<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Noel ğŸ„</title>
<style>
html,body{
margin:0;
padding:0;
background:radial-gradient(circle at top,#020b18,#000);
color:white;
font-family:"Segoe UI",sans-serif;
overflow-x:hidden;
}
section{
min-height:100vh;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
}
canvas{
width:100%;
max-width:430px;
height:560px;
}
.message{
max-width:90%;
margin:40px auto 80px;
padding:25px;
font-size:17px;
line-height:1.9;
background:rgba(0,0,0,.45);
border-radius:18px;
box-shadow:0 0 25px rgba(255,255,255,.15);
}
.hint{
opacity:.6;
font-size:14px;
margin-bottom:40px;
}
</style>
</head>
<body>

<section>
  <canvas id="tree"></canvas>
  <div class="hint">â„ï¸ CÃ¢y thÃ´ng Ä‘ang chuyá»ƒn Ä‘á»™ng â€“ kÃ©o xuá»‘ng Ä‘á»ƒ Ä‘á»c lá»i chÃºc â„ï¸</div>
</section>

<section>
  <div class="message">
ğŸ„ <b>ChÃºc Tháº£o Noel vui váº»</b> ğŸ„<br><br>
Gáº·p nhiá»u may máº¯n, thuáº­n lá»£i<br>
trÃªn con Ä‘Æ°á»ng mÃ  báº¡n Ä‘Ã£ chá»n.<br><br>
Cáº£m Æ¡n báº¡n khi Ä‘Ã£ kÃ©o PhÃºc<br>
ra nÆ¡i tá»‘i tÄƒm áº¥y! âœ¨
  </div>
</section>

<audio id="music" src="music.mp3" preload="auto"></audio>

<script>
/* ===== NHáº C ===== */
const music=document.getElementById("music");
/* â±ï¸ THá»œI ÄIá»‚M Báº®T Äáº¦U (giÃ¢y)
   Báº¡n cÃ³ thá»ƒ chá»‰nh náº¿u muá»‘n sá»›m/muá»™n hÆ¡n */
const START_TIME = 42;

document.body.addEventListener("click",()=>{
  music.currentTime = START_TIME;
  music.volume = 0.8;
  music.play();
},{once:true});

/* ===== CANVAS ===== */
const canvas=document.getElementById("tree");
const ctx=canvas.getContext("2d");

function resize(){
  canvas.width=canvas.offsetWidth;
  canvas.height=canvas.offsetHeight;
}
resize();
window.addEventListener("resize",resize);

/* ===== PARTICLE ===== */
const particles=[];
for(let i=0;i<1200;i++){
  const level=Math.random();
  particles.push({
    y:canvas.height*level,
    spread:(1-level)*190,
    r:Math.random()*1.8+0.4,
    speed:Math.random()*0.6+0.2,
    hue:Math.random()*360
  });
}

let t=0;

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  const sway=Math.sin(t)*65;
  const cx=canvas.width/2+sway;

  /* sao */
  ctx.font="30px serif";
  ctx.textAlign="center";
  ctx.fillStyle="gold";
  ctx.fillText("â­",cx,42);

  /* tim */
  ctx.save();
  ctx.translate(cx,65);
  ctx.scale(1+Math.sin(t*3)*0.05,1+Math.sin(t*3)*0.05);
  ctx.fillStyle="pink";
  ctx.beginPath();
  ctx.moveTo(0,10);
  ctx.bezierCurveTo(-20,-10,-40,10,0,40);
  ctx.bezierCurveTo(40,10,20,-10,0,10);
  ctx.fill();
  ctx.restore();

  /* thÃ¢n */
  ctx.fillStyle="#8d6e63";
  ctx.fillRect(cx-14,canvas.height-90,28,70);

  /* háº¡t */
  for(const p of particles){
    const x=cx+(Math.random()*p.spread-p.spread/2);
    ctx.beginPath();
    ctx.fillStyle=`hsla(${p.hue},100%,70%,0.9)`;
    ctx.arc(x,p.y,p.r,0,Math.PI*2);
    ctx.fill();

    p.y+=p.speed;
    if(p.y>canvas.height-90) p.y=80;
  }

  t+=0.01;
  requestAnimationFrame(draw);
}
draw();
</script>

</body>
</html>
